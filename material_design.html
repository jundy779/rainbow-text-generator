<!DOCTYPE html> 
<html data-theme="light"> 
<head> 
  <meta charset="UTF-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pelangi Huruf Generator - Material Design</title> 
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
  <style>
    :root {
      /* Light theme */
      --md-sys-color-primary: #006a6a;
      --md-sys-color-on-primary: #ffffff;
      --md-sys-color-primary-container: #6ff7f7;
      --md-sys-color-on-primary-container: #002020;
      --md-sys-color-secondary: #4a6363;
      --md-sys-color-on-secondary: #ffffff;
      --md-sys-color-secondary-container: #cce8e8;
      --md-sys-color-on-secondary-container: #051f1f;
      --md-sys-color-tertiary: #4b5f7e;
      --md-sys-color-on-tertiary: #ffffff;
      --md-sys-color-tertiary-container: #d2e4ff;
      --md-sys-color-on-tertiary-container: #061c36;
      --md-sys-color-error: #ba1a1a;
      --md-sys-color-error-container: #ffdad6;
      --md-sys-color-on-error: #ffffff;
      --md-sys-color-on-error-container: #410002;
      --md-sys-color-background: #fafdfc;
      --md-sys-color-on-background: #191c1c;
      --md-sys-color-surface: #fafdfc;
      --md-sys-color-on-surface: #191c1c;
      --md-sys-color-surface-variant: #dae5e4;
      --md-sys-color-on-surface-variant: #3f4948;
      --md-sys-color-outline: #6f7979;
      --md-sys-color-inverse-on-surface: #eff1f0;
      --md-sys-color-inverse-surface: #2e3131;
      --md-sys-color-inverse-primary: #4cdada;
      --md-sys-color-shadow: #000000;
      --md-sys-color-surface-tint: #006a6a;
      --md-sys-color-outline-variant: #bec9c8;
      --md-sys-color-scrim: #000000;
      
      /* Elevation */
      --md-sys-elevation-level1: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
      --md-sys-elevation-level2: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --md-sys-elevation-level3: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --md-sys-elevation-level4: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      --md-sys-elevation-level5: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      
      /* Corners */
      --md-sys-shape-corner-small: 4px;
      --md-sys-shape-corner-medium: 8px;
      --md-sys-shape-corner-large: 16px;
      --md-sys-shape-corner-extra-large: 28px;
    }

    [data-theme="dark"] {
      /* Dark theme */
      --md-sys-color-primary: #4cdada;
      --md-sys-color-on-primary: #003737;
      --md-sys-color-primary-container: #004f4f;
      --md-sys-color-on-primary-container: #6ff7f7;
      --md-sys-color-secondary: #b0cbcb;
      --md-sys-color-on-secondary: #1b3434;
      --md-sys-color-secondary-container: #324b4b;
      --md-sys-color-on-secondary-container: #cce8e8;
      --md-sys-color-tertiary: #b6c9e8;
      --md-sys-color-on-tertiary: #1d324b;
      --md-sys-color-tertiary-container: #344964;
      --md-sys-color-on-tertiary-container: #d2e4ff;
      --md-sys-color-error: #ffb4ab;
      --md-sys-color-error-container: #93000a;
      --md-sys-color-on-error: #690005;
      --md-sys-color-on-error-container: #ffdad6;
      --md-sys-color-background: #191c1c;
      --md-sys-color-on-background: #e0e3e2;
      --md-sys-color-surface: #191c1c;
      --md-sys-color-on-surface: #e0e3e2;
      --md-sys-color-surface-variant: #3f4948;
      --md-sys-color-on-surface-variant: #bec9c8;
      --md-sys-color-outline: #899392;
      --md-sys-color-inverse-on-surface: #191c1c;
      --md-sys-color-inverse-surface: #e0e3e2;
      --md-sys-color-inverse-primary: #006a6a;
      --md-sys-color-shadow: #000000;
      --md-sys-color-surface-tint: #4cdada;
      --md-sys-color-outline-variant: #3f4948;
      --md-sys-color-scrim: #000000;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Roboto', sans-serif;
      background-color: var(--md-sys-color-background);
      color: var(--md-sys-color-on-background);
      line-height: 1.5;
      margin: 0;
      padding: 16px;
      transition: all 0.3s ease;
    }

    .material-card {
      background-color: var(--md-sys-color-surface);
      border-radius: var(--md-sys-shape-corner-medium);
      box-shadow: var(--md-sys-elevation-level1);
      padding: 24px;
      margin-bottom: 24px;
      transition: box-shadow 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .material-card:hover {
      box-shadow: var(--md-sys-elevation-level2);
    }
    
    .app-container {
      max-width: 800px;
      margin: 0 auto;
    }
    
    .app-header {
      text-align: center;
      margin-bottom: 24px;
    }
    
    .app-title {
      font-size: 2rem;
      font-weight: 500;
      color: var(--md-sys-color-on-surface);
      margin-bottom: 8px;
    }
    
    .app-subtitle {
      color: var(--md-sys-color-on-surface-variant);
      font-size: 1rem;
      font-weight: 400;
    }
    
    .theme-switch {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      margin-bottom: 16px;
    }
    
    .md-switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 30px;
      margin: 0 12px;
    }
    
    .md-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .md-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--md-sys-color-surface-variant);
      transition: .4s;
      border-radius: 34px;
    }
    
    .md-slider:before {
      position: absolute;
      content: "";
      height: 22px;
      width: 22px;
      left: 4px;
      bottom: 4px;
      background-color: var(--md-sys-color-on-surface-variant);
      transition: .4s;
      border-radius: 50%;
    }
    
    input:checked + .md-slider {
      background-color: var(--md-sys-color-primary);
    }
    
    input:checked + .md-slider:before {
      transform: translateX(20px);
      background-color: var(--md-sys-color-on-primary);
    }
    
    .section-title {
      font-size: 1rem;
      font-weight: 500;
      color: var(--md-sys-color-primary);
      margin-bottom: 16px;
      text-align: center;
    }
    
    .control-row {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-bottom: 24px;
      align-items: center;
      justify-content: space-between;
    }
    
    .md-select {
      position: relative;
      min-width: 180px;
    }
    
    .md-select select {
      appearance: none;
      background-color: var(--md-sys-color-surface);
      border: 1px solid var(--md-sys-color-outline);
      border-radius: var(--md-sys-shape-corner-small);
      padding: 12px 16px;
      width: 100%;
      color: var(--md-sys-color-on-surface);
      cursor: pointer;
      font-family: 'Roboto', sans-serif;
      font-size: 1rem;
      outline: none;
      transition: border-color 0.3s;
    }
    
    .md-select select:focus {
      border-color: var(--md-sys-color-primary);
    }
    
    .md-select::after {
      content: "arrow_drop_down";
      font-family: 'Material Symbols Rounded';
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      pointer-events: none;
      color: var(--md-sys-color-on-surface-variant);
    }
    
    .md-slider-container {
      display: flex;
      align-items: center;
      gap: 16px;
      width: 100%;
      margin-bottom: 16px;
    }
    
    .md-slider-container label {
      min-width: 120px;
      color: var(--md-sys-color-on-surface);
      font-size: 1rem;
    }
    
    .md-slider-container .slider-wrapper {
      flex-grow: 1;
      position: relative;
    }
    
    .md-slider-container input[type="range"] {
      -webkit-appearance: none;
      width: 100%;
      height: 4px;
      background: var(--md-sys-color-surface-variant);
      border-radius: 2px;
      outline: none;
    }
    
    .md-slider-container input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--md-sys-color-primary);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .md-slider-container input[type="range"]::-webkit-slider-thumb:hover {
      transform: scale(1.1);
      box-shadow: 0 0 0 6px var(--md-sys-color-primary-container);
    }
    
    .md-slider-container .value {
      color: var(--md-sys-color-on-surface-variant);
      font-size: 1rem;
      min-width: 48px;
      text-align: right;
    }
    
    .md-chip-group {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 16px;
      justify-content: center;
    }
    
    .md-chip {
      padding: 8px 16px;
      border-radius: 8px;
      border: 1px solid var(--md-sys-color-outline-variant);
      background-color: var(--md-sys-color-surface-variant);
      color: var(--md-sys-color-on-surface-variant);
      font-size: 0.875rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .md-chip.active {
      background-color: var(--md-sys-color-primary-container);
      color: var(--md-sys-color-on-primary-container);
      border-color: var(--md-sys-color-primary);
    }
    
    .palette-container {
      text-align: center;
      margin-bottom: 24px;
    }
    
    .color-palette {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 16px 0;
      justify-content: center;
    }
    
    .palette-option {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      position: relative;
      box-shadow: var(--md-sys-elevation-level1);
    }
    
    .palette-option:hover {
      transform: scale(1.1);
    }
    
    .palette-option.active {
      box-shadow: 0 0 0 2px var(--md-sys-color-primary), var(--md-sys-elevation-level2);
    }
    
    .palette-option.rainbow {
      background: linear-gradient(90deg, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff);
      background-size: 600% 600%;
      animation: rainbowAnimation 4s ease infinite;
    }
    
    .palette-option.pastel {
      background: linear-gradient(90deg, #ffafcc, #ffc8dd, #cdb4db, #bde0fe, #a2d2ff);
      background-size: 600% 600%;
      animation: rainbowAnimation 4s ease infinite;
    }
    
    .palette-option.neon {
      background: linear-gradient(90deg, #ff00ff, #00ffff, #00ff00, #ffff00, #ff0000);
      background-size: 600% 600%;
      animation: rainbowAnimation 4s ease infinite;
    }
    
    .palette-option.sunset {
      background: linear-gradient(90deg, #ff7b00, #ff8800, #ff9500, #ffaa00, #ffb700);
      background-size: 600% 600%;
      animation: rainbowAnimation 4s ease infinite;
    }
    
    .palette-option.ocean {
      background: linear-gradient(90deg, #006699, #0099cc, #00ccff, #0099cc, #006699);
      background-size: 600% 600%;
      animation: rainbowAnimation 4s ease infinite;
    }
    
    @keyframes rainbowAnimation {
      0% { background-position: 0% 50% }
      50% { background-position: 100% 50% }
      100% { background-position: 0% 50% }
    }
    
    .md-textarea {
      width: 100%;
      padding: 16px;
      border: 1px solid var(--md-sys-color-outline-variant);
      border-radius: var(--md-sys-shape-corner-small);
      background-color: var(--md-sys-color-surface);
      color: var(--md-sys-color-on-surface);
      font-size: 1rem;
      font-family: 'Roboto', sans-serif;
      resize: vertical;
      min-height: 120px;
      transition: border-color 0.3s;
      margin-bottom: 24px;
    }
    
    .md-textarea:focus {
      outline: none;
      border-color: var(--md-sys-color-primary);
    }
    
    .md-button {
      padding: 0 24px;
      height: 40px;
      border-radius: var(--md-sys-shape-corner-small);
      border: none;
      font-size: 0.875rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      cursor: pointer;
      transition: all 0.2s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      box-shadow: var(--md-sys-elevation-level1);
      position: relative;
      overflow: hidden;
    }
    
    .md-button::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: transparent;
      transition: background-color 0.2s;
    }
    
    .md-button:hover::after {
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    .md-button:active::after {
      background-color: rgba(0, 0, 0, 0.1);
    }
    
    .md-button.primary {
      background-color: var(--md-sys-color-primary);
      color: var(--md-sys-color-on-primary);
    }
    
    .md-button.secondary {
      background-color: var(--md-sys-color-secondary-container);
      color: var(--md-sys-color-on-secondary-container);
    }
    
    .md-button.tertiary {
      background-color: var(--md-sys-color-tertiary-container);
      color: var(--md-sys-color-on-tertiary-container);
    }
    
    .md-button.with-icon {
      gap: 8px;
    }
    
    .md-button .material-symbols-rounded {
      font-size: 18px;
    }
    
    .output-container {
      background-color: var(--md-sys-color-surface-variant);
      border-radius: var(--md-sys-shape-corner-medium);
      padding: 24px;
      min-height: 120px;
      position: relative;
      margin-bottom: 24px;
      max-width: 100%;
      overflow-x: auto;
    }
    
    .loading-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
      border-radius: var(--md-sys-shape-corner-medium);
      visibility: hidden;
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top: 4px solid var(--md-sys-color-primary);
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .button-container {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
      margin-bottom: 24px;
    }
    
    footer {
      text-align: center;
      margin-top: 40px;
      padding: 16px 0;
      color: var(--md-sys-color-on-surface-variant);
      font-size: 0.875rem;
      border-top: 1px solid var(--md-sys-color-outline-variant);
    }
    
    footer a {
      color: var(--md-sys-color-primary);
      text-decoration: none;
    }
    
    footer a:hover {
      text-decoration: underline;
    }
    
    /* Responsive adjustments */
    @media (max-width: 600px) {
      body {
        padding: 12px;
      }
      
      .material-card {
        padding: 16px;
      }
      
      .app-title {
        font-size: 1.75rem;
      }
      
      .md-slider-container {
        flex-direction: column;
        align-items: flex-start;
      }
      
      .md-slider-container label {
        margin-bottom: 8px;
      }
      
      .button-container {
        flex-direction: column;
      }
      
      .md-button {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <div class="theme-switch">
      <span>Mode Terang</span>
      <label class="md-switch">
        <input type="checkbox" id="themeToggle" />
        <span class="md-slider"></span>
      </label>
      <span>Mode Gelap</span>
    </div>
    
    <div class="app-header">
      <h1 class="app-title">🌈 Generator Pelangi Huruf</h1>
      <p class="app-subtitle">Buat teks dengan warna pelangi yang estetik dan menarik</p>
    </div>

    <div class="material-card">
      <h2 class="section-title">Pengaturan</h2>
      
      <div class="control-row">
        <div class="md-select">
          <select id="fontStyleSelect" title="Pilih Gaya Font">
            <option value="normal" selected>Normal</option>
            <option value="bold">Tebal</option>
            <option value="italic">Miring</option>
            <option value="underline">Garis Bawah</option>
          </select>
        </div>
      </div>

      <div class="md-slider-container">
        <label for="fontSizeSlider">Ukuran Font:</label>
        <div class="slider-wrapper">
          <input type="range" id="fontSizeSlider" min="10" max="100" value="24" step="1">
        </div>
        <span class="value" id="fontSizeValue">24px</span>
      </div>

      <div class="section-title">Pilih Jenis Font</div>
      <div class="md-chip-group">
        <div class="md-chip font-arial active" data-font="Arial, sans-serif">Arial</div>
        <div class="md-chip font-times" data-font="'Times New Roman', Times, serif">Times</div>
        <div class="md-chip font-courier" data-font="'Courier New', Courier, monospace">Courier</div>
        <div class="md-chip font-verdana" data-font="Verdana, Geneva, sans-serif">Verdana</div>
        <div class="md-chip font-georgia" data-font="Georgia, serif">Georgia</div>
        <div class="md-chip font-comic" data-font="'Comic Sans MS', cursive, sans-serif">Comic</div>
      </div>

      <div class="palette-container">
        <div class="section-title">Pilih Skema Warna</div>
        <div class="color-palette">
          <div class="palette-option rainbow active" data-palette="rainbow" title="Rainbow"></div>
          <div class="palette-option pastel" data-palette="pastel" title="Pastel"></div>
          <div class="palette-option neon" data-palette="neon" title="Neon"></div>
          <div class="palette-option sunset" data-palette="sunset" title="Sunset"></div>
          <div class="palette-option ocean" data-palette="ocean" title="Ocean"></div>
        </div>
      </div>

      <textarea id="inputText" class="md-textarea" placeholder="Masukkan teks kamu di sini..."></textarea>
      
      <div class="button-container">
        <button class="md-button primary with-icon" onclick="generate(false)">
          <span class="material-symbols-rounded">palette</span>
          Generate
        </button>
        <button class="md-button secondary with-icon" onclick="generate(true)">
          <span class="material-symbols-rounded">shuffle</span>
          Randomize
        </button>
        <button class="md-button tertiary with-icon" onclick="copyToClipboard()">
          <span class="material-symbols-rounded">content_copy</span>
          Copy to Clipboard
        </button>
      </div>
    </div>
    
    <div class="material-card">
      <h2 class="section-title">Output</h2>
      <div class="output-wrapper">
        <div id="output" class="output-container"></div>
        <div class="loading-overlay" id="loadingOverlay">
          <div class="loading-spinner"></div>
        </div>
      </div>
    </div>
  </div>
 
  <footer>
    <p>© 2025 Pelangi Huruf Generator | Version 2.0 | Made with ❤️ by <a href="https://github.com/jundy779" target="_blank">Fusionify Digital</a></p>
  </footer>

  <script>
    // Gradasi warna pelangi berdasarkan referensi
    const rainbowColors = [
      "#ff0000", "#ff0600", "#ff0c00", "#ff1200", "#ff1800", "#ff1e00", 
      "#ff2400", "#ff2a00", "#ff3000", "#ff3600", "#ff3c00", "#ff4300", 
      "#ff4900", "#ff4f00", "#ff5500", "#ff5b00", "#ff6100", "#ff6700", 
      "#ff6d00", "#ff7300", "#ff7900", "#ff7f00", "#ff8500", "#ff8b00", 
      "#ff9100", "#ff9700", "#ff9d00", "#ffa400", "#ffaa00", "#ffb000", 
      "#ffb600", "#ffbc00", "#ffc200", "#ffc800", "#ffce00", "#ffd400", 
      "#ffda00", "#ffe100", "#ffe700", "#ffed00", "#fff300", "#fff900", 
      "#ffff00", "#f9ff00", "#f3ff00", "#e7ff00", "#dbff00", "#ceff00", 
      "#c2ff00", "#b6ff00", "#aaff00", "#9eff00", "#92ff00", "#86ff00", 
      "#79ff00", "#6dff00", "#61ff00", "#55ff00", "#49ff00", "#3dff00", 
      "#31ff00", "#24ff00", "#18ff00", "#0cff00", "#00ff00",
      "#00ff0c", "#00ff18", "#00ff24", "#00ff31", "#00ff3d", "#00ff49", 
      "#00ff55", "#00ff61", "#00ff6d", "#00ff79", "#00ff86", "#00ff92", 
      "#00ff9e", "#00ffaa", "#00ffb6", "#00ffc2", "#00ffce", "#00ffdb", 
      "#00ffe7", "#00fff3", "#00ffff",
      "#00f3ff", "#00e7ff", "#00dbff", "#00ceff", "#00c2ff", "#00b6ff", 
      "#00aaff", "#009eff", "#0092ff", "#0086ff", "#0079ff", "#006dff", 
      "#0061ff", "#0055ff", "#0049ff", "#003dff", "#0031ff", "#0024ff", 
      "#0018ff", "#000cff", "#0000ff",
      "#0700ff", "#0e00ff", "#1500ff", "#1c00ff", "#2300ff", "#2a00ff", 
      "#3100ff", "#3800ff", "#3f00ff", "#4600ff", "#4c00ff", "#5300ff", 
      "#5a00ff", "#6100ff", "#6800ff", "#6f00ff", "#7600ff", "#7d00ff", 
      "#8400ff", "#8b00ff", "#9100f3", "#9600e7", "#9c00db", "#a100ce", 
      "#a700c2", "#ac00b6", "#b200aa", "#b7009e", "#bd0092", "#c20086", 
      "#c80079", "#cd006d", "#d30061", "#d80055", "#de0049", "#e3003d", 
      "#e90031", "#ee0024", "#f40018", "#f9000c"
    ];
    
    // Palet warna lainnya
    const colorPalettes = {
      rainbow: rainbowColors,
      pastel: [
        "#ffafcc", "#ffc8dd", "#cdb4db", "#bde0fe", "#a2d2ff", "#ffafcc",
        "#ffc8dd", "#cdb4db", "#bde0fe", "#a2d2ff", "#ffafcc", "#ffc8dd"
      ],
      neon: [
        "#ff00ff", "#ff33ff", "#ff66ff", "#ff99ff", "#ffccff", "#ccffff",
        "#99ffff", "#66ffff", "#33ffff", "#00ffff", "#00ffcc", "#00ff99",
        "#00ff66", "#00ff33", "#00ff00", "#33ff00", "#66ff00", "#99ff00", 
        "#ccff00", "#ffff00", "#ffcc00", "#ff9900", "#ff6600", "#ff3300"
      ],
      sunset: [
        "#ff7b00", "#ff8800", "#ff9500", "#ffaa00", "#ffb700", "#ffc300",
        "#ffd000", "#ffdd00", "#ffea00", "#fff700", "#f7ff00", "#eaff00",
        "#ddff00", "#d0ff00", "#c3ff00", "#b7ff00", "#aaff00", "#95ff00",
        "#88ff00", "#7bff00"
      ],
      ocean: [
        "#006699", "#0077b3", "#0088cc", "#0099cc", "#00aacc", "#00bbcc",
        "#00cccc", "#00ccbb", "#00ccaa", "#00cc99", "#00cc88", "#00cc77",
        "#00cc66", "#00bb77", "#00aa88", "#009999", "#0088aa", "#0077bb",
        "#0066cc"
      ]
    };
    
    // Palet aktif saat ini
    let cssColors = colorPalettes.rainbow;
    let currentPalette = "rainbow";
    let currentFont = "Arial, sans-serif";

    function getRandomColor() { 
      const index = Math.floor(Math.random() * cssColors.length); 
      return cssColors[index]; 
    } 
 
    function generate(isRandom) { 
      const input = document.getElementById("inputText").value; 
      const fontStyle = document.getElementById("fontStyleSelect").value;
      const fontSize = document.getElementById("fontSizeSlider").value;
      
      // Show loading if text is long
      const loadingOverlay = document.getElementById("loadingOverlay");
      if (input.length > 500) {
        loadingOverlay.style.visibility = "visible";
        loadingOverlay.style.opacity = "1";
        
        // Use setTimeout to allow the UI to update before processing
        setTimeout(() => {
          generateText(input, fontStyle, fontSize, isRandom);
          loadingOverlay.style.visibility = "hidden";
          loadingOverlay.style.opacity = "0";
        }, 50);
      } else {
        generateText(input, fontStyle, fontSize, isRandom);
      }
    }
    
    function generateText(input, fontStyle, fontSize, isRandom) {
      let output = ""; 
      for (let i = 0; i < input.length; i++) { 
        const char = input[i]; 
        if (char === "\n") { 
          output += "<br>\n"; 
        } else if (char === " ") { 
          output += `<span style="color:#bbb;"> </span>`; 
        } else { 
          const color = isRandom ? getRandomColor() : cssColors[i % cssColors.length]; 
          let style = `color:${color}; text-shadow: 0px 0px 1px rgba(0,0,0,0.2); font-size:${fontSize}px; font-family:${currentFont};`;
          if (fontStyle === "bold") {
            style += " font-weight: bold;";
          } else if (fontStyle === "italic") {
            style += " font-style: italic;";
          } else if (fontStyle === "underline") {
            style += " text-decoration: underline;";
          }
          output += `<span style="${style}">${char}</span>`; 
        } 
      } 
      document.getElementById("output").innerHTML = output; 
    }
 
    function copyToClipboard() { 
      const temp = document.createElement("textarea"); 
      temp.value = document.getElementById("output").innerHTML; 
      document.body.appendChild(temp); 
      temp.select(); 
      document.execCommand("copy"); 
      document.body.removeChild(temp); 
      
      // Show a more elegant notification instead of alert
      const notification = document.createElement('div');
      notification.style.position = 'fixed';
      notification.style.bottom = '20px';
      notification.style.left = '50%';
      notification.style.transform = 'translateX(-50%)';
      notification.style.backgroundColor = 'var(--md-sys-color-primary)';
      notification.style.color = 'var(--md-sys-color-on-primary)';
      notification.style.padding = '12px 24px';
      notification.style.borderRadius = '4px';
      notification.style.boxShadow = 'var(--md-sys-elevation-level2)';
      notification.style.zIndex = '1000';
      notification.textContent = 'Teks berhasil disalin ke clipboard!';
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transition = 'opacity 0.5s ease';
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 500);
      }, 2000);
    }
    
    // Theme toggle functionality
    const themeToggle = document.getElementById('themeToggle');
    
    // Check for saved theme preference or use preferred color scheme
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
      document.documentElement.setAttribute('data-theme', 'dark');
      themeToggle.checked = true;
    } else if (savedTheme === 'light') {
      document.documentElement.setAttribute('data-theme', 'light');
      themeToggle.checked = false;
    } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
      document.documentElement.setAttribute('data-theme', 'dark');
      themeToggle.checked = true;
    }
    
    // Add event listener for theme toggle
    themeToggle.addEventListener('change', function() {
      if (this.checked) {
        document.documentElement.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
      } else {
        document.documentElement.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light');
      }
    });
    
    // Font size slider
    const fontSizeSlider = document.getElementById('fontSizeSlider');
    const fontSizeValue = document.getElementById('fontSizeValue');
    
    fontSizeSlider.addEventListener('input', function() {
      fontSizeValue.textContent = this.value + 'px';
      if (document.getElementById("inputText").value.trim() !== "") {
        generate(false);
      }
    });
    
    // Color palette selection
    const paletteOptions = document.querySelectorAll('.palette-option');
    
    paletteOptions.forEach(option => {
      option.addEventListener('click', function() {
        // Remove active class from all options
        paletteOptions.forEach(opt => opt.classList.remove('active'));
        // Add active class to clicked option
        this.classList.add('active');
        
        // Update the current palette
        currentPalette = this.getAttribute('data-palette');
        cssColors = colorPalettes[currentPalette];
        
        // Regenerate if there's text
        if (document.getElementById("inputText").value.trim() !== "") {
          generate(false);
        }
      });
    });
    
    // Font selection
    const fontOptions = document.querySelectorAll('.md-chip');
    
    fontOptions.forEach(option => {
      option.addEventListener('click', function() {
        // Remove active class from all options
        fontOptions.forEach(opt => opt.classList.remove('active'));
        // Add active class to clicked option
        this.classList.add('active');
        
        // Update the current font
        currentFont = this.getAttribute('data-font');
        
        // Regenerate if there's text
        if (document.getElementById("inputText").value.trim() !== "") {
          generate(false);
        }
      });
    });
  </script>
</body> 
</html> 